<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Search Dev</title>
  <link href="https://fonts.googleapis.com/css2?family=Product+Sans:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-color: #f9fafb;
      --text-color: #2d3748;
      --input-bg: #edf2f7;
      --btn-bg: #4299e1;
    }
    body.dark {
      --bg-color: #1a202c;
      --text-color: #edf2f7;
      --input-bg: #2d3748;
      --btn-bg: #805ad5;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Product Sans', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    h1 { font-size: 2.2rem; margin-bottom: 20px; }
    form {
      display: flex;
      align-items: center;
      width: 100%;
      max-width: 600px;
      border: 1px solid var(--input-bg);
      border-radius: 30px;
      padding: 5px 10px;
    }
    input[type="text"] {
      flex: 1;
      padding: 12px;
      font-size: 1rem;
      border: none;
      background: transparent;
      color: var(--text-color);
      outline: none;
    }
    button {
      background: transparent;
      border: none;
      color: var(--text-color);
      cursor: pointer;
      font-size: 1rem;
    }
    .mic svg {
      width: 24px;
      height: 24px;
      transition: transform 0.2s, fill 0.2s;
    }
    .mic:hover svg, .mic:active svg {
      transform: scale(1.3);
      fill: var(--btn-bg);
    }
    #quoteBox {
      font-size: 1rem;
      margin: 20px 0;
      max-width: 600px;
      white-space: nowrap;
      overflow: hidden;
      border-right: 2px solid;
      color: var(--text-color);
    }
    #recentQueries {
      font-size: 0.9rem;
      margin-top: 10px;
    }
    #clock {
      position: absolute;
      top: 20px;
      left: 20px;
      font-size: 0.9rem;
    }
    #greeting {
      margin-top: 10px;
      font-size: 1rem;
      display: none;
    }
    .dropdown {
      position: absolute;
      top: 20px;
      right: 20px;
    }
    .dropbtn {
      background: var(--btn-bg);
      color: white;
      border: none;
      padding: 10px;
      border-radius: 50%;
      font-size: 1.2rem;
      cursor: pointer;
    }
    .dropdown-content {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transform: translateY(-10px);
      display: flex;
      flex-direction: column;
      position: absolute;
      right: 0;
      background-color: var(--input-bg);
      min-width: 160px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      z-index: 10;
      border-radius: 8px;
      transition: all 0.3s ease-in-out;
    }
    .dropdown.show .dropdown-content {
      max-height: 300px;
      opacity: 1;
      transform: translateY(0);
    }
    .dropdown-content button {
      padding: 10px;
      background: none;
      border: none;
      color: var(--text-color);
      cursor: pointer;
      text-align: left;
    }
    .dropdown-content button:hover {
      background-color: rgba(0, 0, 0, 0.05);
    }
    #authForm {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 10px;
      padding: 20px;
      z-index: 20;
      box-shadow: 0 10px 25px rgba(0,0,0,0.2);
      width: 90%;
      max-width: 300px;
    }
    body.dark #authForm {
      background: rgba(26, 32, 44, 0.95);
    }
    #authForm input {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-family: 'Product Sans', sans-serif;
    }
    #authForm button[type="submit"] {
      width: 100%;
      padding: 10px;
      background: var(--btn-bg);
      color: white;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      margin-top: 10px;
    }
    #authForm .close {
      position: absolute;
      top: -10px;
      right: -10px;
      background: var(--btn-bg);
      color: white;
      border: none;
      font-size: 1rem;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
    }
    footer {
      margin-top: 20px;
      font-size: 0.8rem;
      color: #a0aec0;
    }
  </style>
</head>
<body>
  <h1>Search Dev</h1>
  <form id="searchForm" action="https://www.google.com/search" method="GET" target="_blank">
    <input type="text" name="q" id="searchInput" placeholder="Search the web..." required autocomplete="off" />
    <button type="submit">Search</button>
    <button type="button" class="mic" onclick="startVoiceRecognition()">
      <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12 14a3 3 0 0 0 3-3V5a3 3 0 0 0-6 0v6a3 3 0 0 0 3 3Zm5-3a5 5 0 0 1-10 0H5a7 7 0 0 0 14 0h-2ZM11 21h2v-2.07a8.001 8.001 0 0 0 6.931-6.931h-2.02A6.002 6.002 0 0 1 13 18.93V21Z"/>
      </svg>
    </button>
  </form>

  <div id="recentQueries"></div>
  <div id="quoteBox">Loading quote...</div>
  <div id="greeting"></div>
  <div id="clock"></div>

  <div class="dropdown">
    <button class="dropbtn" onclick="toggleDropdown()">â˜°</button>
    <div class="dropdown-content" id="dropdownMenu">
      <button onclick="toggleTheme()" id="themeBtn">Switch to Dark Theme</button>
      <button onclick="toggleAuthForm(true)">Sign In / Login</button>
      <button onclick="logout()">Logout</button>
    </div>
  </div>

  <div id="authForm">
    <button class="close" onclick="toggleAuthForm(false)">Ã—</button>
    <input type="text" placeholder="Your Name" id="userName" />
    <input type="email" placeholder="Email" id="userEmail" />
    <input type="password" placeholder="Password" id="userPass" />
    <button type="submit" onclick="handleLogin()">Sign In</button>
  </div>

  <footer>Powered by Google Search â€¢ Designed by You ðŸ’™</footer>

  <script>
    const greeting = document.getElementById("greeting");
    const clock = document.getElementById("clock");
    const quoteBox = document.getElementById("quoteBox");

    function updateClock() {
      const now = new Date();
      clock.textContent = now.toLocaleTimeString();
    }

    function toggleDropdown() {
      document.querySelector('.dropdown').classList.toggle("show");
    }

    function toggleAuthForm(show) {
      document.getElementById("authForm").style.display = show ? "block" : "none";
    }

    function handleLogin() {
      const name = document.getElementById("userName").value.trim();
      if (name) {
        const hour = new Date().getHours();
        const timeGreeting = hour < 12 ? "Good morning" : hour < 18 ? "Good afternoon" : "Good evening";
        greeting.innerText = `Hello ${name}, ${timeGreeting}!`;
        greeting.style.display = "block";
        localStorage.setItem("username", name);
        toggleAuthForm(false);
      }
    }

    function logout() {
      localStorage.clear();
      greeting.innerText = "";
      greeting.style.display = "none";
    }

    function toggleTheme() {
      const isDark = document.body.classList.toggle("dark");
      document.getElementById("themeBtn").textContent = isDark
        ? "Switch to Light Theme"
        : "Switch to Dark Theme";
      localStorage.setItem("theme", isDark ? "dark" : "light");
    }

    function checkTheme() {
      const saved = localStorage.getItem("theme") || "dark";
      const isDark = saved === "dark";
      document.body.classList.toggle("dark", isDark);
      document.getElementById("themeBtn").textContent = isDark
        ? "Switch to Light Theme"
        : "Switch to Dark Theme";
    }

    function restoreUser() {
      const name = localStorage.getItem("username");
      if (name) {
        const hour = new Date().getHours();
        const timeGreeting = hour < 12 ? "Good morning" : hour < 18 ? "Good afternoon" : "Good evening";
        greeting.innerText = `Hello ${name}, ${timeGreeting}!`;
        greeting.style.display = "block";
      }
    }

    function cycleQuotes() {
      const quotes = [
        "Dream big, work hard, stay focused.",
        "The best way to predict the future is to create it.",
        "Push yourself, because no one else is going to do it for you.",
        "Great things never come from comfort zones.",
        "Success doesnâ€™t just find you. You have to go out and get it."
      ];
      let index = 0;
      quoteBox.textContent = quotes[index];
      setInterval(() => {
        index = (index + 1) % quotes.length;
        quoteBox.textContent = quotes[index];
      }, 5000);
    }

    function startVoiceRecognition() {
      if (!("webkitSpeechRecognition" in window)) {
        alert("Voice recognition not supported");
        return;
      }
      const recognition = new webkitSpeechRecognition();
      recognition.lang = "en-US";
      recognition.continuous = false;
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;

      recognition.onresult = function (event) {
        const transcript = event.results[0][0].transcript;
        document.getElementById("searchInput").value = transcript;
        document.getElementById("searchForm").submit();
      };
      recognition.start();
    }

    checkTheme();
    updateClock();
    setInterval(updateClock, 1000);
    restoreUser();
    cycleQuotes();
  </script>
</body>
</html>
